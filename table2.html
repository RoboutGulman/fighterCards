<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Список бойцов</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background-color: #f5f5f5;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .fighter-card {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: relative;
        }

        .delete-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #ff4444;
            color: white;
            border: none;
            border-radius: 4px;
            padding: 5px 10px;
            cursor: pointer;
            font-size: 12px;
        }

        .delete-btn:hover {
            background: #cc0000;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 15px;
        }

        th, td {
            border: 1px solid #ddd;
            padding: 8px 12px;
            text-align: left;
        }

        th {
            background-color: #f8f9fa;
            font-weight: bold;
        }

        .stats-table {
            margin-bottom: 20px;
        }

        .stats-table th {
            width: 50%;
            background-color: #e9ecef;
        }

        .section-title {
            background-color: #e9ecef;
            font-weight: bold;
            text-align: center;
        }

        .weapon-row-main td {
            border-bottom: none;
        }

        .weapon-row-details td {
            border-top: none;
            background-color: #f8f9fa;
        }

        /* Адаптивность для мобильных */
        @media (max-width: 768px) {
            .fighter-card {
                padding: 15px;
            }
            
            th, td {
                padding: 6px 8px;
                font-size: 14px;
            }
            
            .stats-table th,
            .stats-table td {
                display: block;
                width: 100%;
            }
            
            .stats-table tr {
                display: flex;
                flex-wrap: wrap;
            }
            
            .delete-btn {
                position: relative;
                top: auto;
                right: auto;
                margin-bottom: 10px;
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 10px;
            }
            
            .fighter-card {
                padding: 10px;
            }
            
            th, td {
                padding: 4px 6px;
                font-size: 12px;
            }
            
            .delete-btn {
                padding: 3px 8px;
                font-size: 11px;
            }
        }
    </style>
</head>
<body>
    <div class="container" id="fightersContainer">
        <!-- Сюда будут вставляться таблицы с бойцами -->
    </div>

    <script>
        const fightersData = [
            {
                "name": "Сержант Ковальски",
                "movement": 6,
                "melee": -1,
                "range": 1,
                "armour": -2,
                "оружие": [
                    {
                        "название": "штурмовая винтовка",
                        "тип": "2 ручное",
                        "дальность": "36\"",
                        "модификаторы": "+1 к попаданию на средней дистанции",
                        "keywords": "ASSAULT",
                        "rules": "Автоматический огонь. Игнорирует укрытие."
                    },
                    {
                        "название": "боевой нож",
                        "тип": "1 ручное",
                        "дальность": "ближний бой",
                        "модификаторы": "",
                        "keywords": "MELEE",
                        "rules": ""
                    }
                ],
                "спец_способности": [
                    {
                        "название": "Боевой клич",
                        "описание": "Союзные юниты в радиусе 6\" получают +1 к морали"
                    },
                    {
                        "название": "Тактическое планирование",
                        "описание": "Может перебросить 1 куб атаки за ход"
                    }
                ]
            },
            {
                "name": "Рейнджер Смок",
                "movement": 7,
                "melee": 0,
                "range": 2,
                "armour": -1,
                "оружие": [
                    {
                        "название": "снайперская винтовка",
                        "тип": "2 ручное",
                        "дальность": "48\"",
                        "модификаторы": "+2 к пробитию на дальней дистанции",
                        "keywords": "PRECISION, CRITICAL",
                        "rules": "Может атаковать приоритетные цели. Критический удар на 5+."
                    }
                ],
                "спец_способности": [
                    {
                        "название": "Маскировка",
                        "описание": "Получает укрытие даже на открытой местности"
                    },
                    {
                        "название": "Меткий стрелок",
                        "описание": "Игнорирует штраф за движение при стрельбе"
                    }
                ]
            },
            {
                "name": "Штурмовик Донован",
                "movement": 5,
                "melee": 2,
                "range": -1,
                "armour": -3,
                "оружие": [
                    {
                        "название": "дробовик",
                        "тип": "1 ручное",
                        "дальность": "24\"",
                        "модификаторы": "+1 к D на дальней дистанции",
                        "keywords": "CRITICAL",
                        "rules": "+1 КУБ на попасть. Игнорирует штраф за дальность. -1 КУБ на пробить на дальней дистанции"
                    },
                    {
                        "название": "огнемет",
                        "тип": "2 ручное",
                        "дальность": "12\"",
                        "модификаторы": "автопопадание",
                        "keywords": "FLAME, AREA",
                        "rules": "Попадает автоматически в радиусе действия. Наносит урон по площади."
                    }
                ],
                "спец_способности": [
                    {
                        "название": "Штурмовой щит",
                        "описание": "Получает +1 к броне против дальнобойных атак"
                    },
                    {
                        "название": "Неудержимый",
                        "описание": "Может двигаться через труднопроходимую местность без штрафа"
                    }
                ]
            }
        ];

        function renderFighters() {
            const container = document.getElementById('fightersContainer');
            container.innerHTML = '';

            fightersData.forEach((fighter, index) => {
                const fighterCard = document.createElement('div');
                fighterCard.className = 'fighter-card';
                fighterCard.id = `fighter-${index}`;

                let html = `
                    <button class="delete-btn" onclick="deleteFighter(${index})">✕ Удалить</button>
                    <table class="stats-table">
                        <tr>
                            <th colspan="2">${fighter.name}</th>
                        </tr>
                        <tr>
                            <th>Движение</th>
                            <td>${fighter.movement}</td>
                        </tr>
                        <tr>
                            <th>Ближний бой</th>
                            <td>${fighter.melee >= 0 ? '+' : ''}${fighter.melee}</td>
                        </tr>
                        <tr>
                            <th>Стрельба</th>
                            <td>${fighter.range >= 0 ? '+' : ''}${fighter.range}</td>
                        </tr>
                        <tr>
                            <th>Броня</th>
                            <td>${fighter.armour >= 0 ? '+' : ''}${fighter.armour}</td>
                        </tr>
                    </table>

                    <table>
                        <tr>
                            <th colspan="4" class="section-title">Оружие</th>
                        </tr>
                        <tr>
                            <th>Название</th>
                            <th>Тип</th>
                            <th>Дальность</th>
                            <th>Модификаторы</th>
                        </tr>
                `;

                fighter.оружие.forEach(weapon => {
                    html += `
                        <tr class="weapon-row-main">
                            <td>${weapon.название}</td>
                            <td>${weapon.тип}</td>
                            <td>${weapon.дальность}</td>
                            <td>${weapon.модификаторы}</td>
                        </tr>
                        <tr class="weapon-row-details">
                            <td colspan="2"><strong>Keywords:</strong> ${weapon.keywords}</td>
                            <td colspan="2"><strong>Rules:</strong> ${weapon.rules}</td>
                        </tr>
                    `;
                });

                html += `
                    </table>

                    <table>
                        <tr>
                            <th colspan="2" class="section-title">Спец. способности</th>
                        </tr>
                        <tr>
                            <th>Название</th>
                            <th>Описание</th>
                        </tr>
                `;

                fighter.спец_способности.forEach(ability => {
                    html += `
                        <tr>
                            <td>${ability.название}</td>
                            <td>${ability.описание}</td>
                        </tr>
                    `;
                });

                html += `</table>`;
                fighterCard.innerHTML = html;
                container.appendChild(fighterCard);
            });
        }

        function deleteFighter(index) {
            const fighterCard = document.getElementById(`fighter-${index}`);
            if (fighterCard) {
                fighterCard.style.display = 'none';
            }
        }

        // Инициализация при загрузке страницы
        document.addEventListener('DOMContentLoaded', renderFighters);
    </script>
</body>
</html>